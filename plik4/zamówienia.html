<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zamówienia hurtowe</title>
    <link rel="stylesheet" href="styl4.css">
</head>
<body onload="braki()">
    <div id="baner">
        <h1>Sieci komputerowe</h1>
    </div>
    <div id="lewy">
        <h2>Aktualizacja i zamówienia materiałów</h2>
        <p>Do wewnętrznego użytku firmy</p>
        <img src="obraz.png" alt="sieci komputerowe">
    </div>
    <div id="prawy">
        <table id="tabelka">
            <tr>
                <th>Produkt</th>
                <th>Jednostka</th>
                <th>Dostępna ilość</th>
                <th>Aktualizacja</th>
                <th>Zamówienie</th>
            </tr>
            <tr>
                <td>Skrętka U/UTP drut</td>
                <td>metr</td>
                <td>20</td>
                <td><input type="button" class="p1" value="Aktualizuj" 
                    onclick="aktualizuj(this)"></td>
                <td><input type="button" class="p2" value="Zamów"
                    onclick="zamow(this)"></td>
            </tr>
            <tr>
                <td>Skrętka U/UTP linka</td>
                <td>metr</td>
                <td>2</td>
                <td><input type="button" class="p1" value="Aktualizuj"
                    onclick="aktualizuj(this)"></td>
                <td><input type="button" class="p2" value="Zamów"
                    onclick="zamow(this)"></td>
            </tr>
            <tr>
                <td>Wtyki 8P8C</td>
                <td>sztuki</td>
                <td>10</td>
                <td><input type="button" class="p1" value="Aktualizuj"
                    onclick="aktualizuj(this)"></td>
                <td><input type="button" class="p2" value="Zamów"
                    onclick="zamow(this)"></td>
            </tr>
            <tr>
                <td>Moduły Keystone</td>
                <td>sztuki</td>
                <td>30</td>
                <td><input type="button" class="p1" value="Aktualizuj"
                    onclick="aktualizuj(this)"></td>
                <td><input type="button" class="p2" value="Zamów"
                    onclick="zamow(this)"></td>
            </tr>
        </table>
    </div>
    <div id="stopka">
        <a href="http://sieci.pl" target="_blank" rel="noopener noreferrer">Nasza strona internetowa</a>
        <p>Strona przygotowana przez: Jakub</p>
    </div>
    <script>
        function braki(){
            const tabelka = document.getElementById("tabelka")
            wiersze = document.getElementById("tabelka").rows[0].cells.length
            for(i = 1; 1<= wiersze; i++){
                ilosc = tabelka.rows[i].cells[2].innerText
                if (ilosc == 0){
                    tabelka.rows[i].cells[2].style.background = "red"
                }else if(ilosc >0 && ilosc <= 5){
                    tabelka.rows[i].cells[2].style.background = "yellow"
                }else{
                    tabelka.rows[i].cells[2].style.background = "honeydew"
                }
            }
        }
        function aktualizuj(id){
            nowa_ilosc = prompt("Podaj nową ilość: ")
            let butt = document.getElementsByClassName("p1")
            let w1 = 0
            for (i=0; i < butt.length; i++){
                if(id == butt[i]){
                    w1 = i
                }
            }
            document.getElementById("tabelka").rows[w1+1].cells[2].innerHTML = nowa_ilosc
            braki()   
        }
        function zamow(id){
            let butt2 = document.getElementsByClassName("p2")
            let w2 = 0
            for (i=0; i < butt2.length; i++){
                if(id == butt2[i]){
                    w2 = i
                }
            }
            nr = w2 + 1
            ilosc = document.getElementById("tabelka").rows[nr].cells[2].innerText
            document.getElementById("tabelka").rows[nr].cells[2].innerHTML = parseInt(ilosc) + 1
            nazwa = document.getElementById("tabelka").rows[nr].cells[2].innerText
            alert("Zamówienie nr: " + nr + " Produkt: " + nazwa)
            braki()
        }
    </script>
</body>
</html> 